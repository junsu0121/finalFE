![KakaoTalk_Photo_2022-07-29-15-42-48 001](https://user-images.githubusercontent.com/96029064/182078607-97e5c6ba-4368-4f2f-9a87-af224952c56b.jpeg)


<br>

# 🍹 [B-tender][b-tenderlink]
[b-tenderlink]: https://www.b-tender.com/ 

#### 칵테일 레시피 추천 및 공유 사이트

<br>

## 🕒 제작기간

### 2022년 6월 24일 ~ 2022년 8월 2일

<br/>

<br>

## 🌟 

### 물가 상승으로 인한 값비싼 술자리 비용!
### 남들과 술을 마시기 보단 홀로 집에서 마시는 혼술족의 증가!
### 평범한 술보다는 새롭고 맛있는 칵테일을 집에서도 혼자 만들어보자!

- 다양한 칵테일 레시피 추천 및 정보 제공
- 나만의 칵테일 레시피 공유
- 나만 아는 분위기 좋은 바 추천 및 공유

<br/>

## 👋 프로젝트 소개

  ### 🗒️ 기능
  
   #### 👍 간단하고 쉬운 회원가입
   
   - 카카오를 통한 소셜로그인 및 기본 회원가입으로 간단하고 안전하게 회원가입 할 수 있어요!
   
   #### 😃 마이페이지
   
   - 마이페이지에서 내가 작성한 글의 개수, 닉네임 변경, 비밀번호 변경, 계정 탈퇴 등의 가능을 이용할 수 있어요!
   
   #### 🍾 메인 페이지 술장고에 내가 가진 술 등록하기
   
   - 술 목록에서 플러스 버튼으로 메인페이지 술장고에 내가 가진 술을 등록할 수 있어요!
   
   #### 🍸 기존의 칵테일 레시피 추천받기
   
   - 기존에 존재하는 칵테일 레시피를 추천 받을 수 있어요!
   
   #### 🍹 나만의 칵테일 레시피 공유
   
   - 내가 만든 나만의 칵테일 레시피를 글작성을 통해 공유할 수 있어요!
   
   #### 📌 나만 알고 있는 칵테일 바 추천받기 및 공유
   
   - 나만 알고 있는 분위기 좋은 바를 글작성을 통해 공유할 수 있어요!
   
   #### 💕 마이페이지에서 내가 좋아요 누른 컨텐츠 확인
   
   - 마이페이지에서 내가 좋아요 누른 모든 컨텐츠를 확인할 수 있어요!
 
<br/>
<br/>
 
## Architectrue

![최종아키텍쳐](https://user-images.githubusercontent.com/96029064/182082258-01a04f26-3b8f-46fd-93c0-233392bca757.png)

<br/>
<br/>

## 🚀 Tech Stack

- **Back-end Tech Stack**
  <br/>
  <br/>
<div float: left; >
  <img src="https://img.shields.io/badge/-TypeScript-3178C6?style=flat&logo=TypeScript&logoColor=white"/>
  <img src="https://img.shields.io/badge/-Node.js-339933?style=flat&logo=Node.js&logoColor=white"/>
  <img src="https://img.shields.io/badge/-Mongodb-47A248?style=flat&logo=Mongodb&logoColor=white"/>
  <img src="https://img.shields.io/badge/-Visual Studio Code-007ACC?style=flat&logo=Visual Studio Code&logoColor=white"/>
</div>
  
  
   <br/>
  <br/>
  
- **Front-end Tech Stack**
  <br/>
  <br/>
  
     ![TypeScript](https://img.shields.io/badge/typescript-%23007ACC.svg?style=for-the-badge&logo=typescript&logoColor=white)<img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white">
    <img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black">
      <img src="https://img.shields.io/badge/Create React App-09D3AC?style=for-the-badge&logo=Create React App&logoColor=white">
  <img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white">
   <img src="https://img.shields.io/badge/styled-components-DB7093?style=for-the-badge&logo=styled-components&logoColor=white">
     <img src="https://img.shields.io/badge/ESLint-4B3263?style=for-the-badge&logo=eslint&logoColor=white">
     <img src="https://img.shields.io/badge/yarn-%232C8EBB.svg?style=for-the-badge&logo=yarn&logoColor=white">

  <br/>
   <img src="https://img.shields.io/badge/recoil-f26b00?style=for-the-badge&logo="><img src="https://img.shields.io/badge/axios-2C5BB4?style=for-the-badge&logo=axios&logoColor=white">
  <img src="https://img.shields.io/badge/React Router Dom-CA4245?style=for-the-badge&logo=React Router Dom&logoColor=white">
   <img src="https://img.shields.io/badge/React_Router-CA4245?style=for-the-badge&logo=react-router&logoColor=white">
     <img src="https://img.shields.io/badge/-React%20Query-FF4154?style=for-the-badge&logo=react%20query&logoColor=white">
     
     <br/>
      <br/>
 <img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white"><img src="https://img.shields.io/badge/amazonaws-232F3E?style=for-the-badge&logo=amazonaws&logoColor=white"><img src="https://img.shields.io/badge/CloudFront-D05C4B?style=for-the-badge&logo=Amazon AWS&logoColor=white"><img src="https://img.shields.io/badge/Amazon S3-569A31?style=for-the-badge&logo=Amazon S3&logoColor=white">
 
  <br/>

- **Front-end Library**

| 라이브러리명                | 내용                 | 참고 |
| :-------------------------- | :------------------- | :--- |
| axios                       | 서버통신             |      |
| typescript              | 타입스크립트             |      |
| react-router-dom            | 렌더링               |      |
| react-query               | 서버데이터관리            |      |
| recoil               | 전역상태관리             |      |
| react-hook-form               |로그인 및 회원가입 폼 생성|      |
| react-cookie               | 쿠키 사용 위한 커스텀 훅 생성  |      |
| react-slick                 | 이미지 슬라이드      |      |
| slick-carousel              | 이미지 슬라이드      |      |
| @ant-desingicons                | 아이콘 툴킷          |      |
| react-icons               | 아이콘 툴킷          |      |
| styled-components           | css                  |      |
| react-modal             | 모달창 생성             |      |
| @types/react-dom             | 타입스크립트 관련            |      |
| @types/react             | 타입스크립트 관련             |      |
| @types/node              | 타입스크립트 관련             |      |
| @types/jest            | 타입스크립트 관련            |      |

<br>
    
## 🎬 시연영상

[시연 영상 링크](https://youtu.be/ArMDqVklA3w)

<br/>
<br/>
<br/>

## ✨ Developers

- **Front-end(React)**

  - 임준수 [Github](https://github.com/junsu0121)
  - 변희재 [Github](https://github.com/qusgmlwo)
    <br/>

<br/>

- **Back-end(Nodejs)** : [Back-end repo](https://github.com/seunghyeon5/mainproject)
  - 진태인 [Github](https://github.com/jthebat)
  - 최봉규 [Github](https://github.com/choibonggyu)
  - 홍승현 [Github](https://github.com/seunghyeon5?tab=repositories)

  <br/>
  
- **Designer** : [DE-Figma](https://www.figma.com/file/hys8g8plcoOLaUzqLUPvx2/%ED%95%AD%ED%95%B499_D_2%EC%A1%B0?node-id=0%3A1)
  - 김예지
  
  <br/>
- 팀 notion : https://vine-sound-ddd.notion.site/Btender-7-D-2-74e39aa8b6714332aaf6afc6b66b2f69

<br/>
<br/>
<br/>




##🔥이슈 및 트러블슈팅

1.  **CloudFront 배포 관련 문제**

❓S3 버킷의 내용을 다시  업로드하여도  캐시가 유지되어 일정 시간이 지나도 해당 변경 내용이 CloudFront에 즉시 반영되지 않는 문제가 발생했습니다.

❗️CloudFront의 정책을 만들어 TTL설정을 1초로 설정했고, Invalidations(무효화)에 만든 정책을 반영하여 Edge Location에 저장된 캐시를 삭제하여 S3 버킷의 내용이 변경되면 즉시 반영되도록 하였습니다.

2.  **소셜로그인 관련 문제**

❓소셜로그인 진행시 리다이렉트되면서 토큰값을 url로 받아오는데, 리다이렉트가 안되는 문제, 토큰값을 못 받는 문제 발생했습니다.

❗️토큰값을 쿼리 스트링으로 받아오지 않아서 주소의 파싱 params로 못 받아서 발생하는 문제였습니다. 따라서 문제를 발견하여 수정을 하였으나, 새로고침 시에만 쿠키에 토큰이 저장되는 문제를 발견하였고, 컴포넌트를 하나 더 만들어서 토큰을 받는 부분과 서버에 유저정보를 요청하는 부분을 나누어서 저장하도록하여 해결하였습니다.

3.  **react-query 데이터 reading 관련 문제**

❓react-query를 통해 받아온 데이터를 인풋의 플레이스홀더와 기본값으로 넣어줬는데 query에서 데이터를 받아오기 전에 실행되어 undefined는 map을 돌릴 수 없다는 오류가 발생했습니다.

❗️흔히 해결방법으로 사용하는 옵셔널체이닝을 사용했지만 문제가 해결되지 않았습니다. 
```
const titleData: string = query.isLoading
    ? "loading"
    : `${query.data[0].title}`;
```
이와 같이 아에 상수로 지정해줘서 데이터가 불러와지지 않았을 때 loading을 출력해주고 로딩이 완료되면 데이터가 찍히도록 만들고

```
 useEffect(() => {
    setTitle(titleData);
    setContent(contentData);
    setAddress(addressData);
  }, [titleData, addressData, contentData]);
```

useEffect로 데이터가 불러와지면 자동으로 렌더링 되도록 해줌.

> ![Footer](https://capsule-render.vercel.app/api?type=waving&color=gradient&height=200&section=footer)
